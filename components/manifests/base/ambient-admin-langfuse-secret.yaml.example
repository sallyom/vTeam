# Example: Platform Admin Langfuse Secret
#
# This secret stores ALL Langfuse observability configuration for the platform.
# All LANGFUSE_* environment variables are configured here in one place.
#
# IMPORTANT:
# - This is a PLATFORM-ADMIN managed secret, not configured per-workspace
# - Should be created in the same namespace as the operator (typically 'ambient-code')
# - Contains both credentials (PUBLIC_KEY, SECRET_KEY) and configuration (HOST, ENABLED)
#
# How to create this secret:
#
# Option 1: Using kubectl (recommended for production):
#   kubectl create secret generic ambient-admin-langfuse-secret \
#     --from-literal=LANGFUSE_PUBLIC_KEY=pk-lf-YOUR-PUBLIC-KEY-HERE \
#     --from-literal=LANGFUSE_SECRET_KEY=sk-lf-YOUR-SECRET-KEY-HERE \
#     --from-literal=LANGFUSE_HOST=http://langfuse-web.langfuse.svc.cluster.local:3000 \
#     --from-literal=LANGFUSE_ENABLED=true \
#     -n ambient-code
#
# Option 2: Using this YAML file (less secure - keys visible in manifest):
#   1. Copy this file: cp ambient-admin-langfuse-secret.yaml.example ambient-admin-langfuse-secret.yaml
#   2. Replace placeholder values with your actual configuration
#   3. Apply: kubectl apply -f ambient-admin-langfuse-secret.yaml
#   4. Delete the file: rm ambient-admin-langfuse-secret.yaml  # Don't commit secrets!

apiVersion: v1
kind: Secret
metadata:
  name: ambient-admin-langfuse-secret
  labels:
    app: agentic-operator
    ambient-code.io/component: observability
type: Opaque
stringData:
  # Get these keys from your Langfuse instance:
  # https://your-langfuse-host.com/settings (Project Settings -> API Keys)
  LANGFUSE_PUBLIC_KEY: "pk-lf-YOUR-PUBLIC-KEY-HERE"
  LANGFUSE_SECRET_KEY: "sk-lf-YOUR-SECRET-KEY-HERE"

  # Langfuse instance URL (cluster-internal or external)
  LANGFUSE_HOST: "http://langfuse-web.langfuse.svc.cluster.local:3000"

  # Enable Langfuse observability for all sessions
  LANGFUSE_ENABLED: "true"
